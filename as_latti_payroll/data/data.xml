<odoo>
    <data noupdate="0">>

        <!-- Se cambia funciones de calculo en python para 'Reglas Salariales' en regla 'PREVISION' -->
        <record id="l10n_cl_hr.hr_rule_18" model="hr.salary.rule">
            <field name="amount_python_compute">if contract.afp_id.name == 'CAPITAL':
    tasa = payslip.indicadores_id.tasa_afp_capital
elif contract.afp_id.name == 'CUPRUM':
    tasa = payslip.indicadores_id.tasa_afp_cuprum
elif contract.afp_id.name == 'HABITAT':
    tasa = payslip.indicadores_id.tasa_afp_habitat
elif contract.afp_id.name == 'MODELO':
    tasa = payslip.indicadores_id.tasa_afp_modelo
elif contract.afp_id.name == 'PLANVITAL':
    tasa = payslip.indicadores_id.tasa_afp_planvital
elif contract.afp_id.name == 'PROVIDA':
    tasa = payslip.indicadores_id.tasa_afp_provida
else:
    tasa = 0

if contract.pension is True:
    result = 0
elif contract.sin_afp is True:
    result = 0
elif (TOTIM/payslip.indicadores_id.uf)>=round(payslip.indicadores_id.tope_imponible_afp):
    result =((payslip.indicadores_id.tope_imponible_afp*payslip.indicadores_id.uf)*tasa /100)
else:
    result = ((TOTIM)*tasa /100)</field>
        </record>

        <!-- Se cambia funciones de calculo en python para 'Reglas Salariales' en regla 'FONASA' -->
        <record id="l10n_cl_hr.hr_rule_34" model="hr.salary.rule">
            <field name="amount_python_compute">if (TOTIM/payslip.indicadores_id.uf)>=(payslip.indicadores_id.tope_imponible_afp):
    result =(((payslip.indicadores_id.tope_imponible_afp*payslip.indicadores_id.uf)*payslip.indicadores_id.fonasa) /100)
else:
    result = ((payslip.indicadores_id.fonasa * TOTIM)/100)</field>
        </record>
        
    </data>
</odoo>